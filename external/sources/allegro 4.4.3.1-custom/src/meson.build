allegro_sources += files(
'allegro.c',
'blit.c',
'bmp.c',
'clip3d.c',
'clip3df.c',
'colblend.c',
'color.c',
'config.c',
'datafile.c',
'dataregi.c',
# 'digmid.c',
'dispsw.c',
'dither.c',
'drvlist.c',
'file.c',
'fli.c',
'flood.c',
'font.c',
# 'fontbios.c',
# 'fontbmp.c',
# 'fontdat.c',
# 'fontgrx.c',
# 'fonttxt.c',
# 'fsel.c',
'gfx.c',
'glyph.c',
'graphics.c',
'gsprite.c',
# 'gui.c',
# 'guiproc.c',
'inline.c',
# 'joystick.c',
# 'keyboard.c',
'lbm.c',
'libc.c',
'lzss.c',
'math.c',
'math3d.c',
#'midi.c',
'mixer.c',
'modesel.c',
'mouse.c',
'pcx.c',
'poly3d.c',
'polygon.c',
'quantize.c',
'quat.c',
'readbmp.c',
# 'readfont.c',
# 'readsmp.c',
'rle.c',
'rotate.c',
'rsfb.c',
'scene3d.c',
#'sound.c',
'spline.c',
'stream.c',
'text.c',
'tga.c',
'timer.c',
'unicode.c',
'vtable.c',
'vtable15.c',
'vtable16.c',
'vtable24.c',
'vtable32.c',
'vtable8.c',
)
if host_machine.system() == 'linux' or host_machine.system() == 'darwin'
  allegro_sources += files('unix/usystem.c', 'unix/ugfxdrv.c', 'unix/umouse.c', 'unix/ukeybd.c', 'unix/ufile.c', 'unix/utimer.c', 'unix/uptimer.c', 'unix/ustimer.c')
endif
if host_machine.system() == 'windows'
  allegro_sources = files(
      'allegro.c',
      'blit.c',
      'bmp.c',
      'clip3d.c',
      'clip3df.c',
      'colblend.c',
      'color.c',
      'config.c',
      'datafile.c',
      'dataregi.c',
      'digmid.c',
      'dispsw.c',
      'dither.c',
      'drvlist.c',
      'file.c',
      'fli.c',
      'flood.c',
      'font.c',
      'fontbios.c',
      'fontbmp.c',
      'fontdat.c',
      'fontgrx.c',
      'fonttxt.c',
      'fsel.c',
      'gfx.c',
      'glyph.c',
      'graphics.c',
      'gsprite.c',
      'gui.c',
      'guiproc.c',
      'inline.c',
      'joystick.c',
      'keyboard.c',
      'lbm.c',
      'libc.c',
      'lzss.c',
      'math.c',
      'math3d.c',
      'midi.c',
      'mixer.c',
      'modesel.c',
      'mouse.c',
      'pcx.c',
      'poly3d.c',
      'polygon.c',
      'quantize.c',
      'quat.c',
      'readbmp.c',
      'readfont.c',
      'readsmp.c',
      'rle.c',
      'rotate.c',
      'rsfb.c',
      'scene3d.c',
      'sound.c',
      'spline.c',
      'stream.c',
      'text.c',
      'tga.c',
      'timer.c',
      'unicode.c',
      'vtable.c',
      'vtable8.c',
      'vtable15.c',
      'vtable16.c',
      'vtable24.c',
      'vtable32.c',
      'misc/ccolconv.c',
      'misc/colconv.c',
      'win/gdi.c',
      'win/wddaccel.c',
      'win/wddbmp.c',
      'win/wddbmpl.c',
      'win/wddfull.c',
      'win/wddlock.c',
      'win/wddmode.c',
      'win/wddovl.c',
      'win/wddraw.c',
      'win/wddwin.c',
      'win/wdispsw.c',
      'win/wdsinput.c',
      'win/wdsndmix.c',
      'win/wdsound.c',
      'win/wdxver.c',
      'win/wfile.c',
      'win/wgdi.c',
      'win/wgfxdrv.c',
      'win/winput.c',
      'win/wjoydrv.c',
      'win/wjoydx.c',
      'win/wjoyhelp.c',
      'win/wjoyw32.c',
      'win/wkeybd.c',
      'win/wmidi.c',
      'win/wmouse.c',
      'win/wsnddrv.c',
      'win/wsndwo.c',
      'win/wsystem.c',
      'win/wthread.c',
      'win/wtimer.c',
      'win/wwnd.c',
    )
endif
subdir('c')